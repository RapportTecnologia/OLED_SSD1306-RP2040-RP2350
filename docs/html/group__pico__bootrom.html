<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="pt">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RP2040 OLED SSD1306: pico_bootrom</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">RP2040 OLED SSD1306
   </div>
   <div id="projectbrief">Driver/Exemplos para display OLED SSD1306 no RP2040</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Gerado por Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Localizar');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__pico__bootrom.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Carregando...</div>
<div class="SRStatus" id="Searching">Procurando...</div>
<div class="SRStatus" id="NoMatches">Nenhuma entrada encontrada</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Definições de tipos</a> &#124;
<a href="#func-members">Funções</a>  </div>
  <div class="headertitle"><div class="title">pico_bootrom</div></div>
</div><!--header-->
<div class="contents">

<p>Access to functions and data in the bootrom.  
<a href="#details">Mais...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga5b3c93cbab0054e9938f2aca7261a73e" id="r_ga5b3c93cbab0054e9938f2aca7261a73e"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pico__bootrom.html#ga5b3c93cbab0054e9938f2aca7261a73e">ROM_TABLE_CODE</a>(<a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">c1</a>,  <a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">c2</a>)&#160;&#160;&#160;((<a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">c1</a>) | ((<a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">c2</a>) &lt;&lt; 8))</td></tr>
<tr class="memdesc:ga5b3c93cbab0054e9938f2aca7261a73e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a bootrom lookup code based on two ASCII characters.  <br /></td></tr>
<tr class="separator:ga5b3c93cbab0054e9938f2aca7261a73e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Definições de tipos</h2></td></tr>
<tr class="memitem:gaa0d8e5afb2db73425ff3ce85ee0bdbdc" id="r_gaa0d8e5afb2db73425ff3ce85ee0bdbdc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">typedef</a> <a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pico__bootrom.html#gaa0d8e5afb2db73425ff3ce85ee0bdbdc">__attribute__</a>((<a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">noreturn</a>)) <a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">rom_reset_usb_boot</a>(<a class="el" href="bootrom_8h.html#aeb4191163d43ca89913bb54da45cbbc8">uint32_t</a> <a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">usb_activity_gpio_pin_mask</a></td></tr>
<tr class="memdesc:gaa0d8e5afb2db73425ff3ce85ee0bdbdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reboot the device into BOOTSEL mode.  <br /></td></tr>
<tr class="separator:gaa0d8e5afb2db73425ff3ce85ee0bdbdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Funções</h2></td></tr>
<tr class="memitem:ga17b99a409a7c1d595c202d0fa0d98c6e" id="r_ga17b99a409a7c1d595c202d0fa0d98c6e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pico__bootrom.html#ga17b99a409a7c1d595c202d0fa0d98c6e">rom_add_flash_runtime_partition</a> (<a class="el" href="bootrom_8h.html#aeb4191163d43ca89913bb54da45cbbc8">uint32_t</a> <a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">start_offset</a>, <a class="el" href="bootrom_8h.html#aeb4191163d43ca89913bb54da45cbbc8">uint32_t</a> size, <a class="el" href="bootrom_8h.html#aeb4191163d43ca89913bb54da45cbbc8">uint32_t</a> <a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">permissions</a>)</td></tr>
<tr class="memdesc:ga17b99a409a7c1d595c202d0fa0d98c6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a runtime partition to the partition table to specify flash permissions.  <br /></td></tr>
<tr class="separator:ga17b99a409a7c1d595c202d0fa0d98c6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad3e66e7bcbf0448a0a63cf37dfb4b53c" id="r_gad3e66e7bcbf0448a0a63cf37dfb4b53c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">void</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pico__bootrom.html#gad3e66e7bcbf0448a0a63cf37dfb4b53c">rom_data_lookup</a> (<a class="el" href="bootrom_8h.html#aeb4191163d43ca89913bb54da45cbbc8">uint32_t</a> <a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">code</a>)</td></tr>
<tr class="memdesc:gad3e66e7bcbf0448a0a63cf37dfb4b53c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lookup a bootrom data address by its code.  <br /></td></tr>
<tr class="separator:gad3e66e7bcbf0448a0a63cf37dfb4b53c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaaf61234f389da6444b6479f29616d7d" id="r_gaaaf61234f389da6444b6479f29616d7d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">void</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pico__bootrom.html#gaaaf61234f389da6444b6479f29616d7d">rom_func_lookup</a> (<a class="el" href="bootrom_8h.html#aeb4191163d43ca89913bb54da45cbbc8">uint32_t</a> <a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">code</a>)</td></tr>
<tr class="memdesc:gaaaf61234f389da6444b6479f29616d7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lookup a bootrom function by its code.  <br /></td></tr>
<tr class="separator:gaaaf61234f389da6444b6479f29616d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga31965209f0ddaeaecaeb3c516abda04d" id="r_ga31965209f0ddaeaecaeb3c516abda04d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pico__bootrom.html#ga31965209f0ddaeaecaeb3c516abda04d">rom_funcs_lookup</a> (<a class="el" href="bootrom_8h.html#aeb4191163d43ca89913bb54da45cbbc8">uint32_t</a> *<a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">table</a>, <a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">unsigned</a> <a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">int</a> <a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">count</a>)</td></tr>
<tr class="memdesc:ga31965209f0ddaeaecaeb3c516abda04d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to lookup the addresses of multiple bootrom functions.  <br /></td></tr>
<tr class="separator:ga31965209f0ddaeaecaeb3c516abda04d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1d90d68d70435f3ecdaaa5f68b142c4f" id="r_ga1d90d68d70435f3ecdaaa5f68b142c4f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pico__bootrom.html#ga1d90d68d70435f3ecdaaa5f68b142c4f">rom_pick_ab_partition_during_update</a> (<a class="el" href="bootrom_8h.html#aeb4191163d43ca89913bb54da45cbbc8">uint32_t</a> *workarea_base, <a class="el" href="bootrom_8h.html#aeb4191163d43ca89913bb54da45cbbc8">uint32_t</a> workarea_size, <a class="el" href="common_2pico__base__headers_2include_2pico_2types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">partition_a_num</a>)</td></tr>
<tr class="memdesc:ga1d90d68d70435f3ecdaaa5f68b142c4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pick A/B partition without disturbing any in progress Flash Update boot or TBYB boot.  <br /></td></tr>
<tr class="separator:ga1d90d68d70435f3ecdaaa5f68b142c4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Descrição detalhada</h2>
<p>Access to functions and data in the bootrom. </p>
<p>This header may be included by assembly code </p>
<h2 class="groupheader">Documentação das macros</h2>
<a id="ga5b3c93cbab0054e9938f2aca7261a73e" name="ga5b3c93cbab0054e9938f2aca7261a73e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5b3c93cbab0054e9938f2aca7261a73e">&#9670;&#160;</a></span>ROM_TABLE_CODE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">define</a> ROM_TABLE_CODE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">c1</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">c2</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;((<a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">c1</a>) | ((<a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">c2</a>) &lt;&lt; 8))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return a bootrom lookup code based on two ASCII characters. </p>
<p>These codes are uses to lookup data or function addresses in the bootrom</p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">c1</td><td>the first character </td></tr>
    <tr><td class="paramname">c2</td><td>the second character </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>the 'code' to use in <a class="el" href="group__pico__bootrom.html#gaaaf61234f389da6444b6479f29616d7d" title="\tag::table_lookup[]">rom_func_lookup()</a> or <a class="el" href="group__pico__bootrom.html#gad3e66e7bcbf0448a0a63cf37dfb4b53c" title="Lookup a bootrom data address by its code.">rom_data_lookup()</a> </dd></dl>

</div>
</div>
<h2 class="groupheader">Documentação dos tipos</h2>
<a id="gaa0d8e5afb2db73425ff3ce85ee0bdbdc" name="gaa0d8e5afb2db73425ff3ce85ee0bdbdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa0d8e5afb2db73425ff3ce85ee0bdbdc">&#9670;&#160;</a></span>__attribute__</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="call__apsr_8h.html#a3adcffbeb25d990def71033256168b45">double</a> __attribute__</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reboot the device into BOOTSEL mode. </p>
<p>This function reboots the device into the BOOTSEL mode ('usb boot").

Facilities are provided to enable an "activity light" via GPIO attached LED for the USB Mass Storage Device,
and to limit the USB interfaces exposed.

@param usb_activity_gpio_pin_mask 0 No pins are used as per a cold boot. Otherwise a single bit set indicating which
                              GPIO pin should be set to output and raised whenever there is mass storage activity
                              from the host.
@param disable_interface_mask value to control exposed interfaces
 - 0 To enable both interfaces (as per a cold boot)
 - 1 To disable the USB Mass Storage Interface
 - 2 To disable the USB PICOBOOT Interface

This function reboots the device into the BOOTSEL mode ('usb boot").</p>
<p>Facilities are provided to enable an "activity light" via GPIO attached LED for the USB Mass Storage Device, and to limit the USB interfaces exposed.</p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">usb_activity_gpio_pin</td><td>GPIO pin to be used as an activitiy pin, or -1 for none from the host. </td></tr>
    <tr><td class="paramname">disable_interface_mask</td><td>value to control exposed interfaces<ul>
<li>0 To enable both interfaces (as per a cold boot)</li>
<li>1 To disable the USB Mass Storage Interface</li>
<li>2 To disable the USB PICOBOOT Interface </li>
</ul>
</td></tr>
    <tr><td class="paramname">usb_activity_gpio_pin_active_low</td><td>Activity GPIO is active low (ignored on RP2040) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Documentação das funções</h2>
<a id="ga17b99a409a7c1d595c202d0fa0d98c6e" name="ga17b99a409a7c1d595c202d0fa0d98c6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga17b99a409a7c1d595c202d0fa0d98c6e">&#9670;&#160;</a></span>rom_add_flash_runtime_partition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">int</a> rom_add_flash_runtime_partition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="bootrom_8h.html#aeb4191163d43ca89913bb54da45cbbc8">uint32_t</a>&#160;</td>
          <td class="paramname"><em>start_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bootrom_8h.html#aeb4191163d43ca89913bb54da45cbbc8">uint32_t</a>&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bootrom_8h.html#aeb4191163d43ca89913bb54da45cbbc8">uint32_t</a>&#160;</td>
          <td class="paramname"><em>permissions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a runtime partition to the partition table to specify flash permissions. </p>
<p>Note that a partition is added to the runtime view of the partition table maintained by the bootrom if there is space to do so</p>
<p>Note that these permissions cannot override the permissions for any pre-existing partitions, as permission matches are made on a first partition found basis.</p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">start_offset</td><td>the start_offset into flash in bytes (must be a multiple of 4K) </td></tr>
    <tr><td class="paramname">size</td><td>the size in byte (must be a multiple of 4K) </td></tr>
    <tr><td class="paramname">permissions</td><td>the bitwise OR of permissions from PICOBIN_PARTITION_PERMISSION_ constants, e.g. <a class="el" href="picobin_8h.html#ac6a6b54706cc331ca6fde23eac0176ed">PICOBIN_PARTITION_PERMISSION_S_R_BITS</a> from <a class="el" href="picobin_8h.html">boot/picobin.h</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>&gt;= 0 the partition number added if PICO_ERROR_BAD_ALIGNMENT if the start_offset or size aren't multiples of 4K. PICO_ERROR_INVALID_ARG if the start_offset or size are out of range, or invalid permission bits are set. </dd></dl>

<p class="reference">Referências <a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">count</a>, <a class="el" href="boot__bootrom__headers_2include_2boot_2bootrom__constants_8h.html#a5e341d216309af91927848f27d796c9a">PARTITION_TABLE_MAX_PARTITIONS</a>, <a class="el" href="group__pico__base.html#ggaddcb20bc9a61ceff479aa87369a862aaac86a6335326022a1ff4d1cd8aad4bb69">PICO_ERROR_BAD_ALIGNMENT</a>, <a class="el" href="group__pico__base.html#ggaddcb20bc9a61ceff479aa87369a862aaa657ac9899835a3913d4fb5fc7fe3ba6d">PICO_ERROR_INSUFFICIENT_RESOURCES</a>, <a class="el" href="group__pico__base.html#ggaddcb20bc9a61ceff479aa87369a862aaad1e36d9b09e29e8774cdc97e8eb102bb">PICO_ERROR_INVALID_ARG</a>, <a class="el" href="picobin_8h.html#af7b7562c9f74f15861a4e1cb42217989">PICOBIN_PARTITION_LOCATION_FIRST_SECTOR_LSB</a>, <a class="el" href="picobin_8h.html#a60e7df3ef5fc30da91dec392d3cd1aa1">PICOBIN_PARTITION_LOCATION_LAST_SECTOR_LSB</a>, <a class="el" href="picobin_8h.html#adadf95880a7b8bb10d6f59683c587068">PICOBIN_PARTITION_PERMISSIONS_BITS</a>, <a class="el" href="group__pico__bootrom.html#gad3e66e7bcbf0448a0a63cf37dfb4b53c">rom_data_lookup()</a> e <a class="el" href="boot__bootrom__headers_2include_2boot_2bootrom__constants_8h.html#a01c390bba1a85ae1b0fcd08838935542">ROM_DATA_PARTITION_TABLE_PTR</a>.</p>

</div>
</div>
<a id="gad3e66e7bcbf0448a0a63cf37dfb4b53c" name="gad3e66e7bcbf0448a0a63cf37dfb4b53c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad3e66e7bcbf0448a0a63cf37dfb4b53c">&#9670;&#160;</a></span>rom_data_lookup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">void</a> * rom_data_lookup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="bootrom_8h.html#aeb4191163d43ca89913bb54da45cbbc8">uint32_t</a>&#160;</td>
          <td class="paramname"><em>code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lookup a bootrom data address by its code. </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">code</td><td>the code </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>a pointer to the data, or NULL if the code does not match any bootrom function </dd></dl>

<p class="reference">Referências <a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">count</a>.</p>

<p class="reference">Referenciado por <a class="el" href="float__init__rom__rp2040_8c.html#aa2197ad2d0a8aa6edde04a554cc31618">__aeabi_float_init()</a>, <a class="el" href="double__init__rom__rp2040_8c.html#a201468129b483039afc5a619e2d31097">__attribute__()</a> e <a class="el" href="group__pico__bootrom.html#ga17b99a409a7c1d595c202d0fa0d98c6e">rom_add_flash_runtime_partition()</a>.</p>

</div>
</div>
<a id="gaaaf61234f389da6444b6479f29616d7d" name="gaaaf61234f389da6444b6479f29616d7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaaf61234f389da6444b6479f29616d7d">&#9670;&#160;</a></span>rom_func_lookup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">void</a> * rom_func_lookup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="bootrom_8h.html#aeb4191163d43ca89913bb54da45cbbc8">uint32_t</a>&#160;</td>
          <td class="paramname"><em>code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lookup a bootrom function by its code. </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">code</td><td>the code </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>a pointer to the function, or NULL if the code does not match any bootrom function</dd></dl>
<p>Lookup a bootrom function by its code. </p>

<p class="reference">Referências <a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">count</a>.</p>

<p class="reference">Referenciado por <a class="el" href="float__init__rom__rp2040_8c.html#aa2197ad2d0a8aa6edde04a554cc31618">__aeabi_float_init()</a>, <a class="el" href="bootrom_8c.html#a93b9cf91f7623d6d8b100a3693d6d5e4">__attribute__()</a>, <a class="el" href="double__init__rom__rp2040_8c.html#a201468129b483039afc5a619e2d31097">__attribute__()</a>, <a class="el" href="group__pico__bootrom.html#ga31965209f0ddaeaecaeb3c516abda04d">rom_funcs_lookup()</a>, <a class="el" href="rp2__common_2pico__runtime__init_2include_2pico_2runtime__init_8h.html#a3f250d811afa557a9fd75671263b1544">runtime_init_bootrom_reset()</a> e <a class="el" href="rp2__common_2pico__runtime__init_2include_2pico_2runtime__init_8h.html#a874afa8499913644fe2ea0b5ab469590">runtime_init_per_core_bootrom_reset()</a>.</p>

</div>
</div>
<a id="ga31965209f0ddaeaecaeb3c516abda04d" name="ga31965209f0ddaeaecaeb3c516abda04d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga31965209f0ddaeaecaeb3c516abda04d">&#9670;&#160;</a></span>rom_funcs_lookup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">bool</a> rom_funcs_lookup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="bootrom_8h.html#aeb4191163d43ca89913bb54da45cbbc8">uint32_t</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">unsigned</a> <a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">int</a>&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper function to lookup the addresses of multiple bootrom functions. </p>
<p>This method looks up the 'codes' in the table, and convert each table entry to the looked up function pointer, if there is a function for that code in the bootrom.</p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>an IN/OUT array, elements are codes on input, function pointers on success. </td></tr>
    <tr><td class="paramname">count</td><td>the number of elements in the table </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>true if all the codes were found, and converted to function pointers, false otherwise</dd></dl>
<p>Helper function to lookup the addresses of multiple bootrom functions. </p>

<p class="reference">Referências <a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">count</a> e <a class="el" href="group__pico__bootrom.html#gaaaf61234f389da6444b6479f29616d7d">rom_func_lookup()</a>.</p>

</div>
</div>
<a id="ga1d90d68d70435f3ecdaaa5f68b142c4f" name="ga1d90d68d70435f3ecdaaa5f68b142c4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1d90d68d70435f3ecdaaa5f68b142c4f">&#9670;&#160;</a></span>rom_pick_ab_partition_during_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">int</a> rom_pick_ab_partition_during_update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="bootrom_8h.html#aeb4191163d43ca89913bb54da45cbbc8">uint32_t</a> *&#160;</td>
          <td class="paramname"><em>workarea_base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bootrom_8h.html#aeb4191163d43ca89913bb54da45cbbc8">uint32_t</a>&#160;</td>
          <td class="paramname"><em>workarea_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="common_2pico__base__headers_2include_2pico_2types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>partition_a_num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pick A/B partition without disturbing any in progress Flash Update boot or TBYB boot. </p>
<p>This will perform the same function as rom_pick_ab_partition(), using the <code>flash_update_boot_window_base</code> from the current boot, while performing extra checks to prevent disrupting a main image TBYB boot. It requires the same minimum workarea size as rom_pick_ab_partition().</p>
<p>This should be used instead of rom_pick_ab_partition() when performing a Flash Update Boot before calling rom_explicit_buy(), and can still be used without issue when a Flash Update Boot is not in progress.</p>
<p>This function is necessary because if an <code>explicit_buy</code> is pending then calling <code>pick_ab_partition</code> would clear the saved flash erase address for the version downgrade, so the required erase of the other partition would not occur when <code>explicit_buy</code> is called. This function saves and restores that address to prevent this issue, and returns <code>BOOTROM_ERROR_NOT_PERMITTED</code> if the partition chosen by <code>pick_ab_partition</code> also requires a flash erase version downgrade (as you can't erase two partitions with one <code>explicit_buy</code> call).</p>
<p>This function also checks that the chosen partition contained a valid image (e.g. a signed image when using secure boot), and returns <code>BOOTROM_ERROR_NOT_FOUND</code> if it does not.</p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">workarea_base</td><td>base address of work area </td></tr>
    <tr><td class="paramname">workarea_size</td><td>size of work area </td></tr>
    <tr><td class="paramname">partition_a_num</td><td>the A partition of the pair </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>&gt;= 0 the partition number picked by rom_pick_ab_partition() BOOTROM_ERROR_NOT_PERMITTED if not possible to do an update correctly, e.g. if both main image and data image are TBYB BOOTROM_ERROR_NOT_FOUND if the chosen partition failed verification </dd></dl>

<p class="reference">Referências <a class="el" href="boot__bootrom__headers_2include_2boot_2bootrom__constants_8h.html#a9a0545ea0f51b93afc9c4f645e0590a9">BOOT_TBYB_AND_UPDATE_FLAG_BUY_PENDING</a>, <a class="el" href="boot__bootrom__headers_2include_2boot_2bootrom__constants_8h.html#a3f9355fbf10d7b05d5f010aa98892b5f">BOOT_TYPE_FLASH_UPDATE</a>, <a class="el" href="boot__bootrom__headers_2include_2boot_2bootrom__constants_8h.html#ac5f5847b5bdc1a5f47ba8dac3970d5f2">BOOTROM_ERROR_NOT_FOUND</a>, <a class="el" href="boot__bootrom__headers_2include_2boot_2bootrom__constants_8h.html#adf5ba35e74fe93aa4177801b604f0c3f">BOOTROM_ERROR_NOT_PERMITTED</a>, <a class="el" href="pico__divider__nesting__test_8c.html#a0b4d1ad82ace098e820dde96e7e393e2">count</a>, <a class="el" href="bootrom_8c.html#a694eed0523bd8cc7979edff4540aa1c7">IMAGE_DEF_BASE</a>, <a class="el" href="bootrom_8c.html#a5224cb61f28933c7179be91c1b406185">IMAGE_DEF_REL_BLOCK_OFFSET</a>, <a class="el" href="bootrom_8c.html#a6e541c87e2967de981fc63e67070b796">IMAGE_DEF_TBYB_FLAGGED</a>, <a class="el" href="bootrom_8c.html#a21491f56f89f1d5be4e5e792b4204c00">IMAGE_DEF_VERIFIED</a>, <a class="el" href="host_2pico__platform_2include_2pico_2platform_8h.html#a3f5611d44c539e721af06fbad7d1312a">panic_unsupported()</a>, <a class="el" href="rcp_8h.html#af01c7e9206ee0824a1cff950ef86a42c">rcp_is_true</a>, <a class="el" href="bootrom_8c.html#aa51d6a88e7cdc0e4243b1b5f1f79974e">TBYB_FLAG_ADDR</a> e <a class="el" href="bootrom_8c.html#a07fe04703b4bb48b23aeac158171841c">VERSION_DOWNGRADE_ERASE_ADDR</a>.</p>

<p class="reference">Referenciado por <a class="el" href="group__pico__cyw43__driver.html#ga24c12f6110969e420954356b104aaa07">cyw43_driver_init()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Gerado por <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
